(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[655],{8149:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/project-category",function(){return a(1759)}])},2018:function(e,s,a){"use strict";var t=a(5893);a(7294),s.Z=()=>(0,t.jsx)("div",{className:"d-flex justify-content-center",children:(0,t.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,t.jsx)("span",{className:"sr-only",children:"Loading..."})})})},1759:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return f}});var t=a(5893);a(5221);var r=a(765),i=a(6426),n=a(8995),c=a(5585),l=a(2920),o=a(7066),d=a(1664),m=a.n(d),h=a(9008),p=a.n(h);a(9755);var j=a(7294),x=a(1163),u=a.n(x),g=a(2018),N=a(662);function f(){let[e,s]=(0,j.useState)([]),[a,d]=(0,j.useState)(!1),[h,x]=(0,j.useState)(!1),[f,b]=(0,j.useState)(""),[v,w]=(0,j.useState)(""),[y,k]=(0,j.useState)(!1),[S,_]=(0,j.useState)([]);function A(e){let a={headers:{authorization:sessionStorage.getItem("ANATOKEN")}},t=new URLSearchParams(window.location.search);o.Z.post("https://api.trap2win.com/admin/log-category-list",{project:t.get("project"),name:e},a).then(e=>{s(e.data.result),d(!1)},e=>{401==e.response.status&&(u().push("/"),C("Unauthorized access"))})}function C(e){l.Am.error(e,{position:"bottom-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}return(0,j.useEffect)(()=>{d(!0),A(),"client-user"===sessionStorage.getItem("ANAROLE")&&u().push("/client-dashboard")},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(p(),{children:[(0,t.jsx)("title",{children:"Project Category"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,t.jsx)("meta",{charSet:"UTF-8"}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,t.jsx)("meta",{name:"msapplication-square70x70logo",content:"images/icon70.png"}),(0,t.jsx)("meta",{name:"msapplication-square150x150logo",content:"images/icon150.png"}),(0,t.jsx)("meta",{name:"msapplication-square310x310logo",content:"images/icon310.png"}),(0,t.jsx)("meta",{charSet:"utf-8"}),(0,t.jsx)("meta",{httpEquiv:"X-UA-Compatible",content:"IE=edge"}),(0,t.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),(0,t.jsx)("meta",{name:"description",content:""}),(0,t.jsx)("meta",{name:"author",content:""}),(0,t.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i",rel:"stylesheet"})]}),(0,t.jsxs)("div",{className:"page-top",children:[(0,t.jsxs)("div",{id:"wrapper",children:[(0,t.jsx)(i.Z,{}),(0,t.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[(0,t.jsxs)("div",{id:"content",children:[(0,t.jsx)(n.Z,{}),a?(0,t.jsx)(g.Z,{}):"",(0,t.jsxs)("div",{className:"container-fluid",children:[(0,t.jsxs)("div",{className:"card shadow",children:[(0,t.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:(0,t.jsxs)("h6",{className:"m-0 font-weight-bold text-primary",children:[(0,t.jsx)(m(),{href:"/projects",legacyBehavior:!0,children:(0,t.jsx)("a",{className:"btn btn-primary btn-sm text-white mr-2",children:(0,t.jsx)("i",{className:"fas fa-arrow-left"})})})," ","Project Category (Total records: ",null==e?void 0:e.length,")"]})}),(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("form",{onSubmit:e=>{e.preventDefault(),d(!0),A(e.target.project.value)},id:"search",children:(0,t.jsxs)("div",{className:"row ",children:[(0,t.jsx)("div",{className:"col-md-3",children:(0,t.jsx)("div",{className:"form-group",children:(0,t.jsx)("input",{type:"text",className:"form-control",name:"project",placeholder:"Filter by project category name"})})}),(0,t.jsx)("div",{className:"col-md-3",children:(0,t.jsx)("div",{className:"form-group",children:(0,t.jsxs)("button",{type:"submit",className:"btn btn-primary btn-block",children:[(0,t.jsx)("i",{className:"fas fa-search"})," Search"]})})}),(0,t.jsx)("div",{className:"col-md-3",children:(0,t.jsx)("div",{className:"form-group",children:(0,t.jsxs)("button",{type:"reset",className:"btn btn-primary btn-block",children:[(0,t.jsx)("i",{className:"fas fa-redo"})," Reset"]})})}),(0,t.jsx)("div",{className:"col-md-3",children:(0,t.jsx)("div",{className:"form-group",children:(0,t.jsxs)("button",{type:"button",className:"btn btn-primary btn-block",onClick:()=>x(!0),children:[(0,t.jsx)("i",{className:"fas fa-plus"})," Add Category"," "]})})})]})}),(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"row mt-5",children:null==e?void 0:e.map((e,s)=>(0,t.jsx)("div",{className:"col-lg-4 mb-4",children:(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h5",{children:e.name}),(0,t.jsx)("p",{children:e.description}),(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-6",children:(0,t.jsx)(m(),{href:"/projects/logs?project="+e.project+"&&category="+e._id,legacyBehavior:!0,children:(0,t.jsxs)("button",{className:"btn btn-primary btn-sm  btn-block mt-4",children:[(0,t.jsx)("i",{className:"fas fa-eye"})," View logs"]})})}),(0,t.jsx)("div",{className:"col-6",children:(0,t.jsxs)("button",{className:"btn btn-primary btn-sm  btn-block mt-4",onClick:()=>{k(!0),_(e)},children:[(0,t.jsx)("i",{className:"fas fa-info-circle"})," Detail"]})})]})]})})},s))})})]})]}),(0,t.jsxs)(N.Z,{show:y,onHide:e=>k(!1),children:[(0,t.jsx)(N.Z.Header,{closeButton:!0,children:(0,t.jsx)(N.Z.Title,{children:"Details"})}),(0,t.jsx)(N.Z.Body,{children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("table",{children:(0,t.jsx)("tbody",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"Category Id :-"}),(0,t.jsx)("td",{style:{width:"10%"}}),(0,t.jsx)("td",{children:null==S?void 0:S._id})]})})}),(0,t.jsxs)("div",{className:"pt-5",style:{width:"100%",wordBreak:"break-word"},children:[(0,t.jsx)("b",{children:" URL:-"}),(0,t.jsxs)("p",{className:"card mt-2 p-3",children:[" ","https://api.trap2win.com/admin","/add-log?log_category=",null==S?void 0:S._id]})]}),(0,t.jsxs)("div",{className:"py-3  ",style:{width:"100%",wordBreak:"break-word"},children:[(0,t.jsx)("b",{children:"Token:-"}),(0,t.jsx)("p",{className:"card mt-2 p-3",children:(null==S?void 0:S.token)?S.token:"No Token Found !! Please generate New one"})]}),(0,t.jsxs)("div",{className:"pt-5",style:{width:"100%",wordBreak:"break-word"},children:[(0,t.jsx)("b",{children:" Fetch Log data:-"}),(0,t.jsxs)("p",{className:"card mt-2 p-3",children:[(0,t.jsx)("span",{children:"All logs :- "})," ","https://api.trap2win.com/admin","/api/all-logs-list"]}),(0,t.jsxs)("p",{className:"card mt-2 p-3",children:[(0,t.jsx)("span",{children:"Data according to per page :- "})," ","https://api.trap2win.com/admin","/api/user-visit-per-page"]}),(0,t.jsxs)("p",{className:"card mt-2 p-3",children:[(0,t.jsx)("span",{children:"Data according to per city :- "})," ","https://api.trap2win.com/admin","/api/city-wise-log"]}),(0,t.jsxs)("p",{className:"card mt-2 p-3",children:[(0,t.jsx)("span",{children:"order count :- "})," ","https://api.trap2win.com/admin","/api/order-count"]}),(0,t.jsxs)("p",{className:"card mt-2 p-3",children:[(0,t.jsx)("span",{children:"Actice users :- "})," ","https://api.trap2win.com/admin","/api/active-user-data"]})]})]})})]}),(0,t.jsxs)(N.Z,{show:h,onHide:e=>x(!1),children:[(0,t.jsx)(N.Z.Header,{closeButton:!0,children:(0,t.jsx)(N.Z.Title,{children:"Add Project Category"})}),(0,t.jsx)(N.Z.Body,{children:(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d(!0);let s={headers:{authorization:sessionStorage.getItem("ANATOKEN")}},a=new URLSearchParams(window.location.search);o.Z.post("https://api.trap2win.com/admin/add-log-category",{name:f,description:v,user:sessionStorage.getItem("ANAID"),project:a.get("project")},s).then(e=>{if("error"==e.data.status)C(e.data.message),d(!1);else{var s;s=e.data.message,l.Am.success(s,{position:"bottom-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),d(!1),x(!1),b(""),w(""),A()}},e=>{401==e.response.status&&(u().push("/"),this.notify_error("Unauthorized access"))})},children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Name"}),(0,t.jsx)("input",{type:"text",value:f,required:!0,className:"form-control",onChange:e=>b(e.target.value)})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Description"}),(0,t.jsx)("textarea",{rows:4,type:"text",value:v,required:!0,className:"form-control",onChange:e=>w(e.target.value)})]}),(0,t.jsx)("div",{className:"form-group",children:(0,t.jsxs)("button",{type:"submit",className:"btn btn-primary btn-sm  btn-block mt-4",children:[(0,t.jsx)("i",{className:"fas fa-plus"})," Add"," "]})})]})})]})]})]}),(0,t.jsx)(c.Z,{})]})]}),(0,t.jsx)(r.Z,{})]})]})}a(381)}},function(e){e.O(0,[571,885,437,66,662,370,774,888,179],function(){return e(e.s=8149)}),_N_E=e.O()}]);