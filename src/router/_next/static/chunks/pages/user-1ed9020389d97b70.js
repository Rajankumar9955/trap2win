(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{9032:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user",function(){return t(2977)}])},2018:function(e,s,t){"use strict";var a=t(5893);t(7294),s.Z=()=>(0,a.jsx)("div",{className:"d-flex justify-content-center",children:(0,a.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,a.jsx)("span",{className:"sr-only",children:"Loading..."})})})},2977:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return N}});var a=t(5893);t(5221);var n=t(765),i=t(6426),r=t(8995),c=t(5585),l=t(2920),o=t(7066),d=t(1664),m=t.n(d),h=t(9008),u=t.n(h);t(9755);var x=t(7294),j=t(1163),p=t.n(j),f=t(2018),b=t(129),v=t.n(b);function N(){let[e,s]=(0,x.useState)([]),[t,d]=(0,x.useState)(!1);function h(e,t,a){let n={headers:{authorization:sessionStorage.getItem("ANATOKEN")}};o.Z.post("https://api.trap2win.com/admin/user-list",{status:e,role:t,full_name:a},n).then(e=>{var t;s(e.data.result),d(!1),console.log(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.result,"RESPONSE")},e=>{401==e.response.status&&(p().push("/"),y("Unauthorized access"))})}async function j(e){e.preventDefault(),d(!0),h(e.target.active.value,e.target.role.value,e.target.user.value)}function b(e,s,t){e.preventDefault();let a={headers:{authorization:sessionStorage.getItem("ANATOKEN")}};o.Z.post("https://api.trap2win.com/admin/update-user-status?",v().stringify({user:s,status:t}),a).then(e=>{"success"==e.data.status?(g(e.data.message),h()):y(e.data.message)},e=>{401==e.response.status&&(p().push("/"),y("Unauthorized access"))})}async function N(e){if(confirm("Want to delete?")){let s={headers:{authorization:sessionStorage.getItem("ANATOKEN")}};o.Z.post("https://api.trap2win.com/admin/delete-user?id="+e,{user:e},s).then(e=>{"error"==e.data.status?y(e.data.message):(g(e.data.message),h())},e=>{401==e.response.status&&(p().push("/"),this.notify_error("Unauthorized access"))})}}function g(e){l.Am.success(e,{position:"bottom-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}function y(e){l.Am.error(e,{position:"bottom-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}return(0,x.useEffect)(()=>{d(!0),"admin"!=sessionStorage.getItem("ANAROLE")&&(p().push("/dashboard"),y("Access Denied !! Contact Admin !")),"client-user"===sessionStorage.getItem("ANAROLE")&&p().push("/client-dashboard"),h()},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(u(),{children:[(0,a.jsx)("title",{children:"Users"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,a.jsx)("meta",{charSet:"UTF-8"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,a.jsx)("meta",{name:"msapplication-square70x70logo",content:"images/icon70.png"}),(0,a.jsx)("meta",{name:"msapplication-square150x150logo",content:"images/icon150.png"}),(0,a.jsx)("meta",{name:"msapplication-square310x310logo",content:"images/icon310.png"}),(0,a.jsx)("meta",{charSet:"utf-8"}),(0,a.jsx)("meta",{httpEquiv:"X-UA-Compatible",content:"IE=edge"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),(0,a.jsx)("meta",{name:"description",content:""}),(0,a.jsx)("meta",{name:"author",content:""}),(0,a.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i",rel:"stylesheet"})]}),(0,a.jsxs)("div",{className:"page-top",children:[(0,a.jsxs)("div",{id:"wrapper",children:[(0,a.jsx)(i.Z,{}),(0,a.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[(0,a.jsxs)("div",{id:"content",children:[(0,a.jsx)(r.Z,{}),t?(0,a.jsx)(f.Z,{}):"",(0,a.jsx)("div",{className:"container-fluid",children:(0,a.jsxs)("div",{className:"card shadow",children:[(0,a.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:(0,a.jsxs)("h6",{className:"m-0 font-weight-bold text-primary",children:["Users (Total records: ",null==e?void 0:e.length,")"]})}),(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)("form",{onSubmit:e=>j(e),id:"search",children:(0,a.jsxs)("div",{className:"row ",children:[(0,a.jsx)("div",{className:"col-md-2",children:(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)("input",{type:"text",className:"form-control",name:"user",placeholder:"Filter by user name"})})}),(0,a.jsx)("div",{className:"col-md-2",children:(0,a.jsx)("div",{className:"form-group",children:(0,a.jsxs)("select",{name:"active",className:"form-control",children:[(0,a.jsx)("option",{value:"",children:"All status"}),(0,a.jsx)("option",{value:0,children:"Active"}),(0,a.jsx)("option",{value:1,children:"Inactive"})]})})}),(0,a.jsx)("div",{className:"col-md-2",children:(0,a.jsx)("div",{className:"form-group",children:(0,a.jsxs)("select",{name:"role",className:"form-control",children:[(0,a.jsx)("option",{value:"",children:"Role"}),(0,a.jsx)("option",{value:"admin",children:"Admin"}),(0,a.jsx)("option",{value:"customer",children:"Customer"})]})})}),(0,a.jsx)("div",{className:"col-md-2",children:(0,a.jsx)("div",{className:"form-group",children:(0,a.jsxs)("button",{type:"submit",className:"btn btn-primary btn-block",children:[(0,a.jsx)("i",{className:"fas fa-search"})," Search"]})})}),(0,a.jsx)("div",{className:"col-md-2",children:(0,a.jsx)("div",{className:"form-group",children:(0,a.jsxs)("button",{type:"reset",className:"btn btn-primary btn-block",children:[(0,a.jsx)("i",{className:"fas fa-redo"})," Reset"]})})}),(0,a.jsx)("div",{className:"col-md-2",children:(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)(m(),{href:"/user/add",legacyBehavior:!0,children:(0,a.jsxs)("a",{className:"btn btn-primary btn-block",children:[(0,a.jsx)("i",{className:"fas fa-plus"})," Add user"," "]})})})})]})}),(0,a.jsxs)("table",{id:"tableUser",className:"table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"thead-light",children:[(0,a.jsx)("th",{children:"#"}),(0,a.jsx)("th",{children:"Name"}),(0,a.jsx)("th",{children:"Group"}),(0,a.jsx)("th",{children:"Email/Mobile"}),(0,a.jsx)("th",{children:"Address"}),(0,a.jsx)("th",{children:"Status"}),(0,a.jsx)("th",{children:"Action"})]})}),(0,a.jsx)("tbody",{children:(null==e?void 0:e.length)==0?(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{colSpan:"5",className:"text-center",children:[" ","No record found"]})}):null==e?void 0:e.map((e,s)=>{let{_id:t,full_name:n,user_type:i,email:r,mobile:c,active:l,role:o,address:d}=e;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:s+1}),(0,a.jsx)("td",{children:n}),(0,a.jsx)("td",{children:o||""}),(0,a.jsxs)("td",{children:[r,(0,a.jsx)("br",{}),c]}),(0,a.jsx)("td",{children:d}),(0,a.jsx)("td",{children:0===l?(0,a.jsx)("button",{id:t,onClick:e=>b(e,t,1),type:"button",className:"btn btn-success btn-circle btn-sm",children:(0,a.jsx)("i",{className:"far fa-thumbs-up"})}):(0,a.jsx)("button",{id:t,onClick:e=>b(e,t,0),type:"button",className:"btn btn-danger btn-circle btn-sm",children:(0,a.jsx)("i",{className:"far fa-thumbs-down"})})}),(0,a.jsxs)("td",{children:[(0,a.jsx)("button",{type:"button",className:"btn btn-primary btn-sm ml-1",onClick:e=>p().push("/user/edit?id="+t),children:(0,a.jsx)("i",{className:"fas fa-pencil-alt"})}),(0,a.jsx)("button",{type:"button",className:"btn btn-primary btn-sm ml-1",onClick:e=>N(t),children:(0,a.jsx)("i",{className:"fas fa-trash"})})]})]},t)})})]})]})]})})]}),(0,a.jsx)(c.Z,{})]})]}),(0,a.jsx)(n.Z,{})]})]})}},4654:function(){}},function(e){e.O(0,[571,437,66,129,370,774,888,179],function(){return e(e.s=9032)}),_N_E=e.O()}]);