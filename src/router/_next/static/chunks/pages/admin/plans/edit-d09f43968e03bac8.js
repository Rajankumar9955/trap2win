(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[112],{759:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/plans/edit",function(){return a(1599)}])},2018:function(e,s,a){"use strict";var i=a(5893);a(7294),s.Z=()=>(0,i.jsx)("div",{className:"d-flex justify-content-center",children:(0,i.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,i.jsx)("span",{className:"sr-only",children:"Loading..."})})})},1599:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return g}});var i=a(5893);a(5221);var t=a(765),l=a(6426),n=a(8995),r=a(5585),o=a(2920),c=a(7066),d=a(1664),u=a.n(d),m=a(9008),h=a.n(m);a(9755);var v=a(7294),x=a(1163),p=a.n(x),j=a(2018);function g(){let[e,s]=(0,v.useState)(!1),[a,d]=(0,v.useState)(""),[m,x]=(0,v.useState)(""),[g,f]=(0,v.useState)(""),[N,b]=(0,v.useState)(""),[w,y]=(0,v.useState)(""),[C,S]=(0,v.useState)("");function _(e){o.Am.error(e,{position:"bottom-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}return(0,v.useEffect)(()=>{"admin"!=sessionStorage.getItem("ANAROLE")&&(s(!0),p().push("/dashboard"),_("Access Denied !! Contact Admin !")),"client-user"===sessionStorage.getItem("ANAROLE")&&(_("Access Denied !! Contact Admin !"),p().push("/client-dashboard")),s(!1),function(){let e=new URLSearchParams(window.location.search),a={headers:{authorization:sessionStorage.getItem("ANATOKEN")}};c.Z.post("https://api.trap2win.com/admin/fetch-single-plan",{id:e.get("id")},a).then(e=>{var a,i,t,l,n,r,o,c,u,m,h,v,p;(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.status)==="success"&&(s(!1),d(null==e?void 0:null===(i=e.data)||void 0===i?void 0:null===(t=i.result)||void 0===t?void 0:t.name),x(null==e?void 0:null===(l=e.data)||void 0===l?void 0:null===(n=l.result)||void 0===n?void 0:n.price),f(null==e?void 0:null===(r=e.data)||void 0===r?void 0:null===(o=r.result)||void 0===o?void 0:o.description),b(null==e?void 0:null===(c=e.data)||void 0===c?void 0:null===(u=c.result)||void 0===u?void 0:u.old_price),S(null==e?void 0:null===(m=e.data)||void 0===m?void 0:null===(h=m.result)||void 0===h?void 0:h.validity_days),y(null==e?void 0:null===(v=e.data)||void 0===v?void 0:null===(p=v.result)||void 0===p?void 0:p.project_limit))},e=>{401==e.response.status&&(p().push("/"),_("Unauthorized access"))})}()},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h(),{children:[(0,i.jsx)("title",{children:"Edit Plan"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,i.jsx)("meta",{charSet:"UTF-8"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,i.jsx)("meta",{name:"msapplication-square70x70logo",content:"images/icon70.png"}),(0,i.jsx)("meta",{name:"msapplication-square150x150logo",content:"images/icon150.png"}),(0,i.jsx)("meta",{name:"msapplication-square310x310logo",content:"images/icon310.png"}),(0,i.jsx)("meta",{charSet:"utf-8"}),(0,i.jsx)("meta",{httpEquiv:"X-UA-Compatible",content:"IE=edge"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),(0,i.jsx)("meta",{name:"description",content:""}),(0,i.jsx)("meta",{name:"author",content:""}),(0,i.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i",rel:"stylesheet"})]}),(0,i.jsxs)("div",{className:"page-top",children:[(0,i.jsxs)("div",{id:"wrapper",children:[(0,i.jsx)(l.Z,{}),(0,i.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[(0,i.jsxs)("div",{id:"content",children:[(0,i.jsx)(n.Z,{}),e?(0,i.jsx)(j.Z,{}):"",(0,i.jsx)("div",{className:"container-fluid",children:(0,i.jsxs)("div",{className:"card shadow",children:[(0,i.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:(0,i.jsxs)("h6",{className:"m-0 font-weight-bold text-primary",children:[(0,i.jsx)(u(),{href:"/admin/plans",legacyBehavior:!0,children:(0,i.jsx)("a",{className:"btn btn-primary btn-sm text-white mr-2",children:(0,i.jsx)("i",{className:"fas fa-arrow-left"})})})," ","Edit new plan"]})}),(0,i.jsx)("div",{className:"card-body",children:(0,i.jsx)("form",{onSubmit:function(e){e.preventDefault(),s(!0);let i={headers:{authorization:sessionStorage.getItem("ANATOKEN")}},t=new URLSearchParams(window.location.search);c.Z.post("https://api.trap2win.com/admin/update-plan",{name:a,price:m,description:g,id:t.get("id"),old_price:N,project_limit:w,validity_days:C},i).then(e=>{if("error"==e.data.status)_(e.data.message),s(!1);else{var a;a=e.data.message,o.Am.success(a,{position:"bottom-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),p().push("/admin/plans"),s(!1)}},e=>{401==e.response.status&&(p().push("/"),this.notify_error("Unauthorized access"))})},children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("div",{className:"col-lg-12",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Name"}),(0,i.jsx)("input",{type:"text",value:a,required:!0,className:"form-control",onChange:e=>d(e.target.value)})]})}),(0,i.jsx)("div",{className:"col-lg-6",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Price"}),(0,i.jsx)("input",{type:"text",value:m,required:!0,className:"form-control",onChange:e=>x(e.target.value)})]})}),(0,i.jsx)("div",{className:"col-lg-6",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Old Price"}),(0,i.jsx)("input",{type:"text",value:N,required:!0,className:"form-control",onChange:e=>b(e.target.value)})]})}),(0,i.jsx)("div",{className:"col-lg-6",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Project Limit"}),(0,i.jsx)("input",{type:"number",value:w,required:!0,className:"form-control",onChange:e=>y(e.target.value)})]})}),(0,i.jsx)("div",{className:"col-lg-6",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsxs)("label",{children:["Plan Validity ",(0,i.jsx)("small",{children:"( In Number of Days )"})]}),(0,i.jsx)("input",{type:"number",value:C,required:!0,className:"form-control",onChange:e=>S(e.target.value)})]})}),(0,i.jsx)("div",{className:"col-lg-12",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Description"}),(0,i.jsx)("textarea",{rows:5,type:"text",value:g,required:!0,className:"form-control",onChange:e=>f(e.target.value)})]})}),(0,i.jsx)("div",{className:"col-lg-12",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{children:"Description"}),(0,i.jsx)("textarea",{rows:5,type:"text",value:g,required:!0,className:"form-control",onChange:e=>f(e.target.value)})]})}),(0,i.jsx)("div",{className:"col-lg-6"}),(0,i.jsx)("div",{className:"col-lg-12",children:(0,i.jsxs)("div",{className:"row ",children:[(0,i.jsx)("div",{className:"col-lg-3"}),(0,i.jsx)("div",{className:"col-lg-6",children:(0,i.jsx)("div",{className:"form-group",children:(0,i.jsxs)("button",{type:"submit",className:"btn btn-primary btn-sm  btn-block mt-4",children:[(0,i.jsx)("i",{className:"fas fa-pencil-alt"})," Update"," "]})})})]})})]})})})]})})]}),(0,i.jsx)(r.Z,{})]})]}),(0,i.jsx)(t.Z,{})]})]})}}},function(e){e.O(0,[571,437,66,370,774,888,179],function(){return e(e.s=759)}),_N_E=e.O()}]);