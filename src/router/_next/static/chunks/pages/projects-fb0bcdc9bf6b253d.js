(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[327],{5039:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects",function(){return t(3145)}])},2018:function(e,s,t){"use strict";var a=t(5893);t(7294),s.Z=()=>(0,a.jsx)("div",{className:"d-flex justify-content-center",children:(0,a.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,a.jsx)("span",{className:"sr-only",children:"Loading..."})})})},3145:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return v}});var a=t(5893);t(5221);var n=t(765),r=t(6426),i=t(8995),c=t(5585),o=t(2920),l=t(7066),d=t(1664),m=t.n(d),h=t(9008),u=t.n(h);t(9755);var p=t(7294),j=t(1163),x=t.n(j),f=t(2018),g=t(662);function v(){let[e,s]=(0,p.useState)([]),[t,d]=(0,p.useState)(!1),[h,j]=(0,p.useState)(!1),[v,N]=(0,p.useState)(""),[b,y]=(0,p.useState)("");function w(e){let t={headers:{authorization:sessionStorage.getItem("ANATOKEN")}};l.Z.post("https://api.trap2win.com/admin/projects-list",{name:e,user:sessionStorage.getItem("ANAID")},t).then(e=>{s(e.data.result),d(!1)},e=>{401==e.response.status&&(x().push("/"),A("Unauthorized access"))})}function A(e){o.Am.error(e,{position:"bottom-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}return(0,p.useEffect)(()=>{d(!0),w(),"client-user"===sessionStorage.getItem("ANAROLE")&&x().push("/client-dashboard")},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(u(),{children:[(0,a.jsx)("title",{children:"Projects"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,a.jsx)("meta",{charSet:"UTF-8"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,a.jsx)("meta",{name:"msapplication-square70x70logo",content:"images/icon70.png"}),(0,a.jsx)("meta",{name:"msapplication-square150x150logo",content:"images/icon150.png"}),(0,a.jsx)("meta",{name:"msapplication-square310x310logo",content:"images/icon310.png"}),(0,a.jsx)("meta",{charSet:"utf-8"}),(0,a.jsx)("meta",{httpEquiv:"X-UA-Compatible",content:"IE=edge"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),(0,a.jsx)("meta",{name:"description",content:""}),(0,a.jsx)("meta",{name:"author",content:""}),(0,a.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i",rel:"stylesheet"})]}),(0,a.jsxs)("div",{className:"page-top",children:[(0,a.jsxs)("div",{id:"wrapper",children:[(0,a.jsx)(r.Z,{}),(0,a.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[(0,a.jsxs)("div",{id:"content",children:[(0,a.jsx)(i.Z,{}),t?(0,a.jsx)(f.Z,{}):"",(0,a.jsxs)("div",{className:"container-fluid",children:[(0,a.jsxs)("div",{className:"card shadow",children:[(0,a.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:(0,a.jsxs)("h6",{className:"m-0 font-weight-bold text-primary",children:["Projects (Total records: ",null==e?void 0:e.length,")"]})}),(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),d(!0),w(e.target.project.value)},id:"search",children:(0,a.jsxs)("div",{className:"row ",children:[(0,a.jsx)("div",{className:"col-md-3",children:(0,a.jsx)("div",{className:"form-group",children:(0,a.jsx)("input",{type:"text",className:"form-control",name:"project",placeholder:"Filter by project name"})})}),(0,a.jsx)("div",{className:"col-md-3",children:(0,a.jsx)("div",{className:"form-group",children:(0,a.jsxs)("button",{type:"submit",className:"btn btn-primary btn-block",children:[(0,a.jsx)("i",{className:"fas fa-search"})," Search"]})})}),(0,a.jsx)("div",{className:"col-md-3",children:(0,a.jsx)("div",{className:"form-group",children:(0,a.jsxs)("button",{type:"reset",className:"btn btn-primary btn-block",children:[(0,a.jsx)("i",{className:"fas fa-redo"})," Reset"]})})}),(0,a.jsx)("div",{className:"col-md-3",children:(0,a.jsx)("div",{className:"form-group",children:(0,a.jsxs)("button",{type:"button",className:"btn btn-primary btn-block",onClick:()=>j(!0),children:[(0,a.jsx)("i",{className:"fas fa-plus"})," Add Project"," "]})})})]})}),(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"row mt-5",children:null==e?void 0:e.map((e,s)=>(0,a.jsx)("div",{className:"col-lg-4",children:(0,a.jsx)("div",{className:"card",children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h5",{children:e.name}),(0,a.jsx)("p",{children:e.description}),(0,a.jsx)("div",{children:(0,a.jsx)(m(),{href:"/projects/project-category?project="+e._id,legacyBehavior:!0,children:(0,a.jsx)("button",{className:"btn btn-primary btn-sm  btn-block mt-4",children:(0,a.jsx)("i",{className:"fas fa-eye"})})})})]})})},s))})})]})]}),(0,a.jsxs)(g.Z,{show:h,onHide:e=>j(!1),children:[(0,a.jsx)(g.Z.Header,{closeButton:!0,children:(0,a.jsx)(g.Z.Title,{children:"Add Project"})}),(0,a.jsx)(g.Z.Body,{children:(0,a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),d(!0);let s={headers:{authorization:sessionStorage.getItem("ANATOKEN")}};l.Z.post("https://api.trap2win.com/admin/add-project",{name:v,description:b,user:sessionStorage.getItem("ANAID")},s).then(e=>{if("error"==e.data.status)A(e.data.message),d(!1);else{var s;s=e.data.message,o.Am.success(s,{position:"bottom-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),d(!1),j(!1),N(""),y(""),w()}},e=>{401==e.response.status&&(x().push("/"),this.notify_error("Unauthorized access"))})},children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{children:"Name"}),(0,a.jsx)("input",{type:"text",value:v,required:!0,className:"form-control",onChange:e=>N(e.target.value)})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{children:"Description"}),(0,a.jsx)("textarea",{rows:4,type:"text",value:b,required:!0,className:"form-control",onChange:e=>y(e.target.value)})]}),(0,a.jsx)("div",{className:"form-group",children:(0,a.jsxs)("button",{type:"submit",className:"btn btn-primary btn-sm  btn-block mt-4",children:[(0,a.jsx)("i",{className:"fas fa-plus"})," Add"," "]})})]})})]})]})]}),(0,a.jsx)(c.Z,{})]})]}),(0,a.jsx)(n.Z,{})]})]})}}},function(e){e.O(0,[571,437,66,662,370,774,888,179],function(){return e(e.s=5039)}),_N_E=e.O()}]);