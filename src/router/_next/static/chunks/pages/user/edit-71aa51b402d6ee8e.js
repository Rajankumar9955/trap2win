(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[845],{457:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/edit",function(){return a(9789)}])},2018:function(e,s,a){"use strict";var l=a(5893);a(7294),s.Z=()=>(0,l.jsx)("div",{className:"d-flex justify-content-center",children:(0,l.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,l.jsx)("span",{className:"sr-only",children:"Loading..."})})})},9789:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return g}});var l=a(5893);a(5221);var t=a(765),i=a(6426),n=a(8995),o=a(5585),r=a(2920),d=a(7066),c=a(1664),u=a.n(c),m=a(9008),v=a.n(m);a(9755);var h=a(7294),x=a(1163),j=a.n(x),p=a(2018);function g(){let[e,s]=(0,h.useState)(!1),[a,c]=(0,h.useState)(""),[m,x]=(0,h.useState)(""),[g,N]=(0,h.useState)(""),[f,b]=(0,h.useState)(""),[w,S]=(0,h.useState)("customer"),[y,C]=(0,h.useState)(""),[E,_]=(0,h.useState)([]),[A,O]=(0,h.useState)(""),[k,U]=(0,h.useState)(""),[R,q]=(0,h.useState)("");function L(e){r.Am.error(e,{position:"bottom-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}return(0,h.useEffect)(()=>{s(!0),"admin"!=sessionStorage.getItem("ANAROLE")&&(s(!0),j().push("/dashboard"),L("Access Denied !! Contact Admin !")),"client-user"===sessionStorage.getItem("ANAROLE")&&j().push("/client-dashboard"),function(){let e=new URLSearchParams(window.location.search),a={headers:{authorization:sessionStorage.getItem("ANATOKEN")}};d.Z.post("https://api.trap2win.com/admin/single-user",{id:e.get("id")},a).then(e=>{var a,l,t,i,n,o,r,d,u,m,v,h,j,p,g,f,b;_(e.data.result),s(!1),c(null==e?void 0:null===(a=e.data)||void 0===a?void 0:null===(l=a.result)||void 0===l?void 0:l.full_name),x(null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(i=t.result)||void 0===i?void 0:i.email),N(null==e?void 0:null===(n=e.data)||void 0===n?void 0:null===(o=n.result)||void 0===o?void 0:o.mobile),C(null==e?void 0:null===(r=e.data)||void 0===r?void 0:null===(d=r.result)||void 0===d?void 0:d.address),S(null==e?void 0:null===(u=e.data)||void 0===u?void 0:null===(m=u.result)||void 0===m?void 0:m.role),U(null==e?void 0:null===(v=e.data)||void 0===v?void 0:null===(h=v.result)||void 0===h?void 0:h.android_url),O(null==e?void 0:null===(j=e.data)||void 0===j?void 0:null===(p=j.result)||void 0===p?void 0:p.website_url),q(null==e?void 0:null===(g=e.data)||void 0===g?void 0:null===(f=g.result)||void 0===f?void 0:f.ios_url),console.log(null==e?void 0:null===(b=e.data)||void 0===b?void 0:b.result,"RESPONSE")},e=>{401==e.response.status&&(j().push("/"),L("Unauthorized access"))})}()},[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(v(),{children:[(0,l.jsx)("title",{children:"Edit User"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,l.jsx)("meta",{charSet:"UTF-8"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,l.jsx)("meta",{name:"msapplication-square70x70logo",content:"images/icon70.png"}),(0,l.jsx)("meta",{name:"msapplication-square150x150logo",content:"images/icon150.png"}),(0,l.jsx)("meta",{name:"msapplication-square310x310logo",content:"images/icon310.png"}),(0,l.jsx)("meta",{charSet:"utf-8"}),(0,l.jsx)("meta",{httpEquiv:"X-UA-Compatible",content:"IE=edge"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),(0,l.jsx)("meta",{name:"description",content:""}),(0,l.jsx)("meta",{name:"author",content:""}),(0,l.jsx)("link",{href:"https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i",rel:"stylesheet"})]}),(0,l.jsxs)("div",{className:"page-top",children:[(0,l.jsxs)("div",{id:"wrapper",children:[(0,l.jsx)(i.Z,{}),(0,l.jsxs)("div",{id:"content-wrapper",className:"d-flex flex-column",children:[(0,l.jsxs)("div",{id:"content",children:[(0,l.jsx)(n.Z,{}),e?(0,l.jsx)(p.Z,{}):"",(0,l.jsx)("div",{className:"container-fluid",children:(0,l.jsxs)("div",{className:"card shadow",children:[(0,l.jsx)("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between",children:(0,l.jsxs)("h6",{className:"m-0 font-weight-bold text-primary",children:[(0,l.jsx)(u(),{href:"/user",legacyBehavior:!0,children:(0,l.jsx)("a",{className:"btn btn-primary btn-sm text-white mr-2",children:(0,l.jsx)("i",{className:"fas fa-arrow-left"})})})," ","Edit user"]})}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsx)("form",{onSubmit:function(e){e.preventDefault(),s(!0);let l=new URLSearchParams(window.location.search),t={headers:{authorization:sessionStorage.getItem("ANATOKEN")}};d.Z.post("https://api.trap2win.com/admin/edit-user",{full_name:a,email:m,mobile:g,password:f,role:w,address:y,id:l.get("id"),website_url:A,ios_url:R,android_url:k},t).then(e=>{if("error"==e.data.status)L(e.data.message),s(!1);else{var a;a=e.data.message,r.Am.success(a,{position:"bottom-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),j().push("/user"),s(!1)}},e=>{401==e.response.status&&(j().push("/"),this.notify_error("Unauthorized access"))})},children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-lg-12",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Full Name"}),(0,l.jsx)("input",{type:"text",value:a,required:!0,className:"form-control",onChange:e=>c(e.target.value)})]})}),(0,l.jsx)("div",{className:"col-lg-6",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Email"}),(0,l.jsx)("input",{type:"email",value:m,required:!0,className:"form-control",onChange:e=>x(e.target.value)})]})}),(0,l.jsx)("div",{className:"col-lg-6",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Mobile Number"}),(0,l.jsx)("input",{type:"text",value:g,required:!0,className:"form-control",onChange:e=>N(e.target.value)})]})}),(0,l.jsx)("div",{className:"col-lg-6",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Password"}),(0,l.jsx)("input",{type:"password",value:f,className:"form-control",onChange:e=>b(e.target.value)})]})}),(0,l.jsx)("div",{className:"col-lg-6",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Role"}),(0,l.jsxs)("select",{className:"form-control",value:w,onChange:e=>S(e.target.value),children:[(0,l.jsx)("option",{value:"customer",children:"Customer"}),(0,l.jsx)("option",{value:"admin",children:"Admin"})]})]})}),(0,l.jsx)("div",{className:"col-lg-12",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Address"}),(0,l.jsx)("textarea",{rows:5,type:"text",value:y,required:!0,className:"form-control",onChange:e=>C(e.target.value)})]})}),(0,l.jsx)("div",{className:"col-lg-6",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Website URL"}),(0,l.jsx)("input",{type:"text",value:A,className:"form-control",onChange:e=>O(e.target.value)})]})}),(0,l.jsx)("div",{className:"col-lg-6",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Android URL"}),(0,l.jsx)("input",{type:"text",value:k,className:"form-control",onChange:e=>U(e.target.value)})]})}),(0,l.jsx)("div",{className:"col-lg-6",children:(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"IOS URL"}),(0,l.jsx)("input",{type:"text",value:R,className:"form-control",onChange:e=>q(e.target.value)})]})}),(0,l.jsx)("div",{className:"col-lg-6"}),(0,l.jsx)("div",{className:"col-lg-12",children:(0,l.jsxs)("div",{className:"row ",children:[(0,l.jsx)("div",{className:"col-lg-3"}),(0,l.jsx)("div",{className:"col-lg-6",children:(0,l.jsx)("div",{className:"form-group",children:(0,l.jsxs)("button",{type:"submit",className:"btn btn-primary btn-sm  btn-block mt-4",children:[(0,l.jsx)("i",{className:"fas fa-pencil-alt"})," Edit"," "]})})})]})})]})})})]})})]}),(0,l.jsx)(o.Z,{})]})]}),(0,l.jsx)(t.Z,{})]})]})}}},function(e){e.O(0,[571,437,66,370,774,888,179],function(){return e(e.s=457)}),_N_E=e.O()}]);